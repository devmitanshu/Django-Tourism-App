<!DOCTYPE html>
<html lang="en">
{% load static %}

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />


  <!-- Latest compiled and minified CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Latest compiled JavaScript -->
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.5/css/swiper.min.css'>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <link href='https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css' rel='stylesheet'>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" type="text/css" href="{% static 'slick/slick.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'slick/slick-theme.css' %}" />
  <link rel=”stylesheet” href=”https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css” />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
  <link rel="stylesheet" href="{% static 'css/fstyle.css' %}">
  <link rel="stylesheet" href="{% static 'css/index.css' %}">
  <link rel="stylesheet" href="{% static 'css/navbar.css' %}">
  <link rel="stylesheet" href="{% static 'css/loginPopup.css' %}">
  <link rel="stylesheet" href="{% static 'css/quotePopup.css' %}">
  <link rel="stylesheet" href="{% static 'css/profiledashboard.css' %}">

  <title>Profile Dashboard</title>
  <style>
    .nav {
      margin-bottom: 0;
    }

    .nav>li.dropdown.open {
      position: static;
    }

    .nav>li.dropdown.open .dropdown-menu {
      display: table;
      width: 100%;
      text-align: center;
      left: 0;
      right: 0;
    }

    .nav-item .dropdown-menu>li {
      display: table-cell;
    }
  </style>
</head>

<body>

  <!-- partial:index.partial.html -->
  <!-- <nav class="navbar navbar-expand-lg navbar-dark bg-dark" style="position: absolute; width: 100vw;">
  <div class="container-fluid">
    <a class="navbar-brand" style="margin-left:5%; height: 60px; width: 200px;"  href="{% url 'Home' %}"><img src="{% static 'images/TMn Logo.svg' %}" style="width: 50%;" alt="Logo"></a>
    
    
  </div>
</nav> -->
  <div class="container-fluid brri">

  </div>

  <div class="sidebar close" style="z-index: 2">

    <i class='bx bx-chevron-left toggle'></i>

    <div class="naaavbar bok">

      <a href="{% url 'Home'%}"><button id="newHome" onclick="side5()">Home<i class='bx bx-home joke'></i></button> </a>
      <button id="Home" onclick="side1()">Profile<i class='bx bx-user-circle joke'></i></button>
      <button id="About" onclick="side2()">Login Details<i class='bx bx-list-ul joke'></i></button>
      <button id="Services" onclick="side3()">Recent Trips<i class='bx bx-trip joke'></i></button>
      <a href="{% url 'handlelogout'%}"><button id="Contact_Us">Logout<i class='bx bx-log-out-circle joke'></i></button>
      </a>
    </div>
  </div>
  <!-- End of NAVBAR -->

  <div class="main xyz">
    <div class="container profile">
      
      <div class="overlay">
        <img src="/media/{{profile.image}}" alt="">
        <!-- <div class="overlay">
      <input type="file" id="image_input" accept="image/png, image/jpg" ><img src="/media/{{profile.image}}" alt="">
    </div> -->
        <h2 class="pi_caption">{{profile.name}}</h2>
      </div>


    </div>


    <div class="flex-container user">

      <div class="flex-container profile_edit">
        <div class="ppad">
          <div class="row">
            <h1>Profile</h1>
            <div class="but"><button onclick="swap1()"><i class='bx bx-pencil'></i>Edit</button></div>
          </div>
          
          <label>Name</label><label class="alonso" id="name">{{profile.name}}</label>
          <hr>
          <label>Mobile Number</label><label class="alonso" id="m_no">{{profile.number}}</label>
          <hr>
          <label>Gender</label><label class="alonso" id="gen_der">{{profile.gender}}</label>
          <hr>
          <label>Country</label><label class="alonso" id="county">{{profile.country}}</label>


        </div>
      </div>

      <div class="flex-container profile_save">
        <div class="ppad">
          <div class="row">
            <h1>Profile</h1>
            <!-- <div class="but">
        <!-- <a href="{%url 'editprofile' %}"><button onclick="swap2()" type="submit">Save</button> -->
            <!-- <input type="button" >
      </div> --> -->
          </div>
          <form action="{% url 'editprofile' %}" method="post">
            {% csrf_token %}
            <label>Name</label><input class="alonso" id="name" value="{{profile.name}}" name="name">
            <hr>
            <label>Mobile Number</label><input class="alonso" id="m_no" value="{{profile.number}}" name="number">
            <hr>
            <label>Gender</label><input class="alonso" id="gen_der" value="{{profile.gender}}" name="gender">
            <hr>
            <label>Country</label><input class="alonso" id="county" value="{{profile.country}}" name="country">
            <label>Upload Image</label><input type="file" id="image_input" name="image">
            <br><br>
            <button type="submit">Save </button>
          </form>
        </div>
      </div>

      <div class="flex-container lgd_edit">
        <div class="ppad">
          <div class="row">
            <h1>Login Details</h1>
            <div class="but"><button onclick="swap3()"><i class='bx bx-pencil'></i>Edit</button></div>
          </div>
          <label>Email</label><label class="alonso" id="name">{{profile.user.email}}</label>
          <hr>
          <label>Password</label><label class="alonso" id="m_no" type="password">******</label>
        </div>
      </div>

      <div class="flex-container lgd_save">
        <div class="ppad">
          <div class="row">
            <h1>Login Details</h1>
            <div class="but"><button onclick="swap4()" type="submit">Save</button></div>
          </div>
          <form action="{% url 'editlogin' %}" method="post">
            {% csrf_token %}
            <label>Email ID</label><input name="email" type="email" class="alonso" id="email">
            <hr>
            <label>Password</label><input name="password" type="password" class="alonso" id="password">
            <hr>
            <br><br>
            <button type="submit">Save </button>
          </form>
        </div>
      </div>

      <div class="flex-container rc_trips">
        <div class="ppad">
          <div class="row">
            <h1>Recent Trips</h1>
          </div>
          <div class="flex-container baxter">
            {% for j in package_details %}
            {% for i in j %}

            <div class="box">
              <div class="slide-img"><img src="/media/{{i.image}}"></div>
              <div class="detail-box">
                <div class="place"><span>{{i.package_name}}</span></div>
                <div class="timeprice"><span>{{i.days}}D {{i.nights}}N<br>Starting Rs {{i.price}}</span></div>
                <div class="knowmore"><a class="kn" href="{% url 'package_info' i=i.id%}">Know More <img
                      src="{% static 'images/Arrow 3.png' %}"></a></div>
              </div>
            </div>
            {% endfor %}
            {% endfor %}

          </div>
        </div>
      </div>
    </div>

  </div>


  </div>


  <script src="{%static 'js/profiledashboard.js' %}"></script>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>


  <script type='text/javascript'>
    document.addEventListener("DOMContentLoaded", function (event) {

      const showNavbar = (toggleId, navId, bodyId, headerId) => {
        const toggle = document.getElementById(toggleId),
          nav = document.getElementById(navId),
          bodypd = document.getElementById(bodyId),
          headerpd = document.getElementById(headerId)

        // Validate that all variables exist
        if (toggle && nav && bodypd && headerpd) {
          toggle.addEventListener('click', () => {
            // show navbar
            nav.classList.toggle('show')
            // change icon
            toggle.classList.toggle('bx-x')
            // add padding to body
            bodypd.classList.toggle('body-pd')
            // add padding to header
            headerpd.classList.toggle('body-pd')
          })
        }
      }

      showNavbar('header-toggle', 'nav-bar', 'body-pd', 'header')

      /*===== LINK ACTIVE =====*/
      const linkColor = document.querySelectorAll('.nav_link')

      function colorLink() {
        if (linkColor) {
          linkColor.forEach(l => l.classList.remove('active'))
          this.classList.add('active')
        }
      }
      linkColor.forEach(l => l.addEventListener('click', colorLink))

      // Your code to run since DOM is loaded and ready
    });
  </script>
  <script type='text/javascript'>
    var myLink = document.querySelector('a[href="#"]');
    myLink.addEventListener('click', function (e) {
      e.preventDefault();
    });
  </script>

</body>

</html>